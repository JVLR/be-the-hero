VocÃª Ã© um assistente tÃ©cnico especializado em arquitetura de software e Java. Sua tarefa Ã© auxiliar na criaÃ§Ã£o de um projeto para a seguinte demanda:

======================================
ğŸ“Œ Projeto: OtimizaÃ§Ã£o de um Sistema de Gerenciamento de InventÃ¡rio DistribuÃ­do
======================================

ğŸ¯ Objetivo:
Projetar e prototipar uma melhoria em um sistema de gerenciamento de inventÃ¡rio existente em ambiente distribuÃ­do, visando:
- Otimizar a consistÃªncia do inventÃ¡rio
- Reduzir a latÃªncia de atualizaÃ§Ã£o de estoque
- Diminuir custos operacionais
- Garantir seguranÃ§a e observabilidade

--------------------------------------
ğŸ“– Contexto Atual:
- A empresa mantÃ©m um sistema de gerenciamento de inventÃ¡rio para uma rede de lojas de varejo.
- Cada loja possui um banco de dados local que sincroniza com o central a cada 15 minutos.
- Clientes visualizam o estoque online, mas hÃ¡ inconsistÃªncias e atrasos â†’ mÃ¡ experiÃªncia e perda de vendas.
- Backend atual: monolÃ­tico.
- Frontend: aplicaÃ§Ã£o web legada.

--------------------------------------
ğŸ› ï¸ Requisitos TÃ©cnicos:
1. **Arquitetura distribuÃ­da**:
   - Propor arquitetura que resolva problemas de consistÃªncia e latÃªncia.
   - Justificar escolha (ex: microsserviÃ§os, event sourcing, CQRS, mensageria).

2. **API Design**:
   - Definir endpoints principais:
     - Criar produto
     - Consultar estoque
     - Atualizar estoque (entrada/saÃ­da)
     - Transferir entre lojas
   - Garantir versionamento, boas prÃ¡ticas REST e JSON.

3. **Backend em Java 21**:
   - Framework sugerido: Micronaut, Spring Boot ou Quarkus.
   - Banco de dados: **SQLite** ou **H2** em memÃ³ria.
   - PersistÃªncia simples (JPA/Hibernate ou repositÃ³rio manual).
   - ConcorrÃªncia: tratamento seguro de updates simultÃ¢neos.
   - TolerÃ¢ncia a falhas: retries, logs e tratamento de erros.

4. **NÃ£o funcionais**:
   - DocumentaÃ§Ã£o (README + run.md)
   - Testes unitÃ¡rios e de integraÃ§Ã£o
   - Boas prÃ¡ticas de logs e observabilidade
   - Justificativa de trade-offs (consistÃªncia vs disponibilidade)

--------------------------------------
âš™ï¸ EstratÃ©gia TÃ©cnica:
- Linguagem: **Java 21**
- Banco: **SQLite/H2**
- Arquitetura: MicrosserviÃ§os (protÃ³tipo simplificado)
- ComunicaÃ§Ã£o: REST API
- GenAI/Assistentes: Usados para acelerar brainstorming, geraÃ§Ã£o de cÃ³digo boilerplate, documentaÃ§Ã£o e testes.

--------------------------------------
ğŸ“‚ EntregÃ¡veis:
- CÃ³digo-fonte Java 21
- README com instruÃ§Ãµes
- run.md (como executar)
- prompts.md (lista de prompts usados)
- Arquitetura documentada em diagrama (opcional)

--------------------------------------
ğŸ“Œ Tarefas para o assistente (Cursor/IA):
1. Gerar proposta arquitetural (microsserviÃ§os ou monÃ³lito modular distribuÃ­do).
2. Criar design da API com endpoints e exemplos de payloads.
3. Implementar protÃ³tipo em **Java 21** com **SQLite ou H2**.
4. Adicionar concorrÃªncia segura para atualizaÃ§Ã£o de estoque.
5. Incluir exemplos de testes unitÃ¡rios.
6. Escrever README + run.md simulando execuÃ§Ã£o local.
7. Explicar decisÃµes tÃ©cnicas (justificativa arquitetural).
8. Fornecer exemplos de observabilidade (logs estruturados, mÃ©tricas).
9. Ajudar a manter o cÃ³digo limpo e bem documentado.

--------------------------------------
âœ… InstruÃ§Ã£o final:
Atue como arquiteto e desenvolvedor sÃªnior Java.  
ForneÃ§a cÃ³digo bem estruturado, explicaÃ§Ãµes detalhadas e documentaÃ§Ã£o clara.  
Capriche no design tÃ©cnico e na clareza das justificativas.
